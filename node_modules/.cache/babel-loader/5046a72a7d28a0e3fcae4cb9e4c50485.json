{"ast":null,"code":"import _slicedToArray from \"/Users/mu.../Documents/Boolean/React/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/mu.../Documents/Boolean/React/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/mu.../Documents/Boolean/React/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mu.../Documents/Boolean/React/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { argsert } from './argsert.js';\nimport { isPromise } from './utils/is-promise.js';\nexport var GlobalMiddleware = /*#__PURE__*/function () {\n  function GlobalMiddleware(yargs) {\n    _classCallCheck(this, GlobalMiddleware);\n\n    this.globalMiddleware = [];\n    this.frozens = [];\n    this.yargs = yargs;\n  }\n\n  _createClass(GlobalMiddleware, [{\n    key: \"addMiddleware\",\n    value: function addMiddleware(callback, applyBeforeValidation) {\n      var global = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var mutates = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      argsert('<array|function> [boolean] [boolean] [boolean]', [callback, applyBeforeValidation, global], arguments.length);\n\n      if (Array.isArray(callback)) {\n        for (var i = 0; i < callback.length; i++) {\n          if (typeof callback[i] !== 'function') {\n            throw Error('middleware must be a function');\n          }\n\n          var m = callback[i];\n          m.applyBeforeValidation = applyBeforeValidation;\n          m.global = global;\n        }\n\n        Array.prototype.push.apply(this.globalMiddleware, callback);\n      } else if (typeof callback === 'function') {\n        var _m = callback;\n        _m.applyBeforeValidation = applyBeforeValidation;\n        _m.global = global;\n        _m.mutates = mutates;\n        this.globalMiddleware.push(callback);\n      }\n\n      return this.yargs;\n    }\n  }, {\n    key: \"addCoerceMiddleware\",\n    value: function addCoerceMiddleware(callback, option) {\n      var aliases = this.yargs.getAliases();\n      this.globalMiddleware = this.globalMiddleware.filter(function (m) {\n        var toCheck = [].concat(_toConsumableArray(aliases[option] || []), [option]);\n        if (!m.option) return true;else return !toCheck.includes(m.option);\n      });\n      callback.option = option;\n      return this.addMiddleware(callback, true, true, true);\n    }\n  }, {\n    key: \"getMiddleware\",\n    value: function getMiddleware() {\n      return this.globalMiddleware;\n    }\n  }, {\n    key: \"freeze\",\n    value: function freeze() {\n      this.frozens.push(_toConsumableArray(this.globalMiddleware));\n    }\n  }, {\n    key: \"unfreeze\",\n    value: function unfreeze() {\n      var frozen = this.frozens.pop();\n      if (frozen !== undefined) this.globalMiddleware = frozen;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.globalMiddleware = this.globalMiddleware.filter(function (m) {\n        return m.global;\n      });\n    }\n  }]);\n\n  return GlobalMiddleware;\n}();\nexport function commandMiddlewareFactory(commandMiddleware) {\n  if (!commandMiddleware) return [];\n  return commandMiddleware.map(function (middleware) {\n    middleware.applyBeforeValidation = false;\n    return middleware;\n  });\n}\nexport function applyMiddleware(argv, yargs, middlewares, beforeValidation) {\n  return middlewares.reduce(function (acc, middleware) {\n    if (middleware.applyBeforeValidation !== beforeValidation) {\n      return acc;\n    }\n\n    if (middleware.mutates) {\n      if (middleware.applied) return acc;\n      middleware.applied = true;\n    }\n\n    if (isPromise(acc)) {\n      return acc.then(function (initialObj) {\n        return Promise.all([initialObj, middleware(initialObj, yargs)]);\n      }).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            initialObj = _ref2[0],\n            middlewareObj = _ref2[1];\n\n        return Object.assign(initialObj, middlewareObj);\n      });\n    } else {\n      var result = middleware(acc, yargs);\n      return isPromise(result) ? result.then(function (middlewareObj) {\n        return Object.assign(acc, middlewareObj);\n      }) : Object.assign(acc, result);\n    }\n  }, argv);\n}","map":{"version":3,"names":["argsert","isPromise","GlobalMiddleware","yargs","globalMiddleware","frozens","callback","applyBeforeValidation","global","mutates","arguments","length","Array","isArray","i","Error","m","prototype","push","apply","option","aliases","getAliases","filter","toCheck","includes","addMiddleware","frozen","pop","undefined","commandMiddlewareFactory","commandMiddleware","map","middleware","applyMiddleware","argv","middlewares","beforeValidation","reduce","acc","applied","then","initialObj","Promise","all","middlewareObj","Object","assign","result"],"sources":["/Users/mu.../Documents/Boolean/React/WeatherApp/node_modules/yargs/build/lib/middleware.js"],"sourcesContent":["import { argsert } from './argsert.js';\nimport { isPromise } from './utils/is-promise.js';\nexport class GlobalMiddleware {\n    constructor(yargs) {\n        this.globalMiddleware = [];\n        this.frozens = [];\n        this.yargs = yargs;\n    }\n    addMiddleware(callback, applyBeforeValidation, global = true, mutates = false) {\n        argsert('<array|function> [boolean] [boolean] [boolean]', [callback, applyBeforeValidation, global], arguments.length);\n        if (Array.isArray(callback)) {\n            for (let i = 0; i < callback.length; i++) {\n                if (typeof callback[i] !== 'function') {\n                    throw Error('middleware must be a function');\n                }\n                const m = callback[i];\n                m.applyBeforeValidation = applyBeforeValidation;\n                m.global = global;\n            }\n            Array.prototype.push.apply(this.globalMiddleware, callback);\n        }\n        else if (typeof callback === 'function') {\n            const m = callback;\n            m.applyBeforeValidation = applyBeforeValidation;\n            m.global = global;\n            m.mutates = mutates;\n            this.globalMiddleware.push(callback);\n        }\n        return this.yargs;\n    }\n    addCoerceMiddleware(callback, option) {\n        const aliases = this.yargs.getAliases();\n        this.globalMiddleware = this.globalMiddleware.filter(m => {\n            const toCheck = [...(aliases[option] || []), option];\n            if (!m.option)\n                return true;\n            else\n                return !toCheck.includes(m.option);\n        });\n        callback.option = option;\n        return this.addMiddleware(callback, true, true, true);\n    }\n    getMiddleware() {\n        return this.globalMiddleware;\n    }\n    freeze() {\n        this.frozens.push([...this.globalMiddleware]);\n    }\n    unfreeze() {\n        const frozen = this.frozens.pop();\n        if (frozen !== undefined)\n            this.globalMiddleware = frozen;\n    }\n    reset() {\n        this.globalMiddleware = this.globalMiddleware.filter(m => m.global);\n    }\n}\nexport function commandMiddlewareFactory(commandMiddleware) {\n    if (!commandMiddleware)\n        return [];\n    return commandMiddleware.map(middleware => {\n        middleware.applyBeforeValidation = false;\n        return middleware;\n    });\n}\nexport function applyMiddleware(argv, yargs, middlewares, beforeValidation) {\n    return middlewares.reduce((acc, middleware) => {\n        if (middleware.applyBeforeValidation !== beforeValidation) {\n            return acc;\n        }\n        if (middleware.mutates) {\n            if (middleware.applied)\n                return acc;\n            middleware.applied = true;\n        }\n        if (isPromise(acc)) {\n            return acc\n                .then(initialObj => Promise.all([initialObj, middleware(initialObj, yargs)]))\n                .then(([initialObj, middlewareObj]) => Object.assign(initialObj, middlewareObj));\n        }\n        else {\n            const result = middleware(acc, yargs);\n            return isPromise(result)\n                ? result.then(middlewareObj => Object.assign(acc, middlewareObj))\n                : Object.assign(acc, result);\n        }\n    }, argv);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}